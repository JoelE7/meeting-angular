<div class="profile">
  <div class="container rounded">
    <span class="fst-italic text-secondary small"><a href="" class="text-secondary" style="text-decoration: none;"
        routerLink="/project/list-project">Volver</a> | <a routerLink="/project/details-project/1"
        class="text-secondary" style="text-decoration: none;">{{searchProject.name}}</a></span>
    <div class="card shadow-sm" style="width:100%; min-height: 700px;">
      <app-banner [title]="searchProject.name" [subtitle]="'Aplicacion ' + searchProject.type"
        [short]="true"></app-banner>
      <p-tabView class="p-3">
        <p-tabPanel header="Datos del proyecto">
          <div class="row">
            <div class="col-6">
              <p> <b>Fecha inicio: </b>
                <span>{{searchProject.startDate | date:'dd/MM/YYYY'}}</span>
              </p>
            </div>
            <div class="col-6">
              <p> <b>Fecha Fin: </b>
                <span>{{searchProject.startDate | date:'dd/MM/YYYY'}}</span>
              </p>
            </div>
          </div>
          <div class="row">
            <div class="col-12">
              <p><b>Cantidad de participantes: </b>
                <span>{{searchProject.amountParticipants}}</span>
              </p>
            </div>
          </div>
        </p-tabPanel>
        <p-tabPanel header="Descripción">
          <p>{{searchProject.description}}
          </p>
        </p-tabPanel>
        <p-tabPanel header="Perfiles">
          <div class="w-50 d-flex justify-content-between align-items-center">
            <div class="d-flex">
              <p-radioButton name="profile" value="front-1" inputId="1" class="me-1"
                [(ngModel)]="profile"></p-radioButton>
              <p style="margin: 0">Front End Developer Angular</p>
            </div>
            <p-tag [severity]="'warning'" value="SIN ASIGNAR"></p-tag>
          </div>
          <div class="w-50 d-flex justify-content-between">
            <div class="d-flex">
              <p-radioButton name="profile" value="front-2" inputId="2" class="me-1"
                [(ngModel)]="profile"></p-radioButton>
              <p style="margin: 0">Front End Developer Angular</p>
            </div>
            <p-tag [severity]="'warning'" value="SIN ASIGNAR"></p-tag>
          </div>
          <div class="w-50 d-flex justify-content-between">
            <div class="d-flex">
              <p-radioButton name="profile" value="back-1" inputId="3" class="me-1"
                [(ngModel)]="profile"></p-radioButton>
              <p style="margin: 0">Back End Developer Node JS</p>
            </div>
            <p-tag [severity]="'warning'" value="SIN ASIGNAR"></p-tag>
          </div>
          <div class="w-50 d-flex justify-content-between">
            <div class="d-flex">
              <p-radioButton name="profile" value="back-2" inputId="4" class="me-1"
                [(ngModel)]="profile"></p-radioButton>
              <p style="margin: 0">Back End Developer Node JS</p>
            </div>
            <p-tag [severity]="'warning'" value="SIN ASIGNAR"></p-tag>
          </div>
          <div class="w-50 d-flex justify-content-between">
            <div class="d-flex">
              <p-radioButton name="profile" value="ux" inputId="2" class="me-1" [(ngModel)]="profile"></p-radioButton>
              <p style="margin: 0">UX Designer</p>
            </div>
            <p-tag [severity]="'warning'" value="SIN ASIGNAR"></p-tag>
          </div>
          <div class="w-50 d-flex justify-content-between">
            <div class="d-flex">
              <p-radioButton name="profile" value="bbd" inputId="2" class="me-1" [(ngModel)]="profile"></p-radioButton>
              <p style="margin: 0">Gestor de Base de Datos MongoDB</p>
            </div>
            <p-tag [severity]="'warning'" value="SIN ASIGNAR"></p-tag>
          </div>
        </p-tabPanel>
        <p-tabPanel header="Colaborar">
          <div class="problem-section">
            <h2>Problema del proyecto</h2>
            <p>Este proyecto tiene un problema que necesita ser resuelto para poder avanzar. El problema es el
              siguiente:</p>
            <ul>
              <li><strong>Descripción:</strong> El sistema de autenticación no está funcionando correctamente y los
                usuarios no pueden iniciar sesión.</li>
              <li><strong>Causa probable:</strong> Un error en la configuración del servidor de autenticación.</li>
              <li><strong>Impacto:</strong> Los usuarios no pueden acceder a las funcionalidades del sistema y el
                proyecto no puede avanzar sin resolver este problema.</li>
            </ul>
            <p-button type="button" [style]="{ width: '100%' }" label="Colaborar con proyecto" class=""
              styleClass=" p-button-help"><i class="m-1 fas fa-hands-helping"></i></p-button>
          </div>
        </p-tabPanel>
        <p-tabPanel header="Integrantes">
          <div class="row mt-3">
            <div class="col-2 d-flex justify-content-center">
              <img width="60" height="60" src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="user"
                class="rounded-circle">
            </div>
            <div class="col-7">
              <h4>Joel Escobar</h4>
              <h6>Front-end developer</h6>
            </div>
            <div class="col-3 text-center">
              <p-button type="button" [style]="{ width: '100%' }" label="Ver perfil" class=""
                styleClass="p-button-outlined p-button-help" routerLink="/user/see-my-profile"></p-button>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-2 d-flex justify-content-center">
              <img width="60" height="60" src="https://bootdey.com/img/Content/avatar/avatar6.png" alt="user"
                class="rounded-circle">
            </div>
            <div class="col-7">
              <h4>Ezequiel Sanson</h4>
              <h6>Back-end developer</h6>
            </div>
            <div class="col-3 text-center">
              <p-button type="button" [style]="{ width: '100%' }" label="Ver perfil" class=""
                styleClass="p-button-outlined" routerLink="/user/see-my-profile"></p-button>
            </div>
          </div>
        </p-tabPanel>
        <p-tabPanel header="Metricas">
          <div class="row">
            <p-cascadeSelect optionLabel="integrants" optionGroupLabel="integrants" [options]="integrants"
              [style]="{ minWidth: '14rem', marginBottom: '1rem' }" placeholder="Seleccione un integrante" class="p-3">
            </p-cascadeSelect>
            <div class="row p-2">
              <div class="d-flex justify-content-center">
                <div class="w-75">
                  <app-chart-bar></app-chart-bar>
                </div>
              </div>
              <div class="col-6">
                <app-chart-doughnut></app-chart-doughnut>
              </div>
              <div class="col-6">
                <app-chart-line></app-chart-line>
              </div>
            </div>
          </div>
        </p-tabPanel>
        <p-tabPanel header="Avances de integrantes">
          <p-accordion [multiple]="true">
            <p-accordionTab *ngFor="let user of users" [header]="user.name">
              <ng-template #accordionHeaderTemplate>
                <div class="user-info">
                  <div class="user-avatar">
                    <p-avatar [image]="user.avatarUrl" size="small" shape="circle"></p-avatar>
                  </div>
                  <div class="user-name">{{ user.name }}</div>
                </div>
              </ng-template>
              <div class="commits-info">
                <ul>
                  <li *ngFor="let commit of user.commits">
                    <a [href]="commit.url" target="_blank">{{ commit.message }}</a>
                  </li>
                </ul>
              </div>
            </p-accordionTab>
          </p-accordion>
        </p-tabPanel>
        <p-tabPanel header="Puntuacion" *ngIf="puntuacion">
          <p-table [value]="tasks" [tableStyle]="{'min-width': '50rem'}">
            <ng-template pTemplate="header" let-columns>
              <tr>
                <th class="text-dark">Integrante</th>
                <th class="text-dark">Puntuacion</th>
                <th class="text-dark">Comentarios</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-task>
              <tr>
                <td>Ezequiel Sanson</td>
                <td><i class="pi pi-star"></i><i class="pi pi-star"></i><i class="pi pi-star"></i><i
                    class="pi pi-star"></i><i class="pi pi-star"></i></td>
                <td><input type="text" pInputText class="w-100"></td>
              </tr>
            </ng-template>
          </p-table>
        </p-tabPanel>
        <!-- seccion MVP Del detalle del proyecto.. -->
        <!-- <p-tabPanel header="MVPs" *ngIf="projectAccept == true">
          <div class="row">
            <div class="d-flex justify-content-between mb-1">
              <div class="d-flex align-items-center justify-content-center">
                <p [style]="{ margin: '0 !important'}">MVP 0 - Crear pantallas que describen las funcionalidades</p>
              </div>
              <div>
                <p-button icon="pi pi-file-edit" type="button" [style]="{ width: '40px', height: '40px' }" label="" class="" styleClass="p-button-outlined-2" routerLink="/mvp/update"></p-button>
                <p-button icon="pi pi-desktop" type="button" [style]="{ width: '40px', height: '40px' }" label="" class="ms-1" styleClass="p-button-outlined-3" routerLink="/mvp/details-mvp/1"></p-button>
              </div>
            </div>
            <div class="d-flex justify-content-between mb-1">
              <div class="d-flex align-items-center justify-content-center">
                <p [style]="{ margin: '0 !important'}">MVP 1 - Presentar funcionalidades Core</p>
              </div>
              <div>
                <p-button icon="pi pi-file-edit" type="button" [style]="{ width: '40px', height: '40px' }" label="" class="" styleClass="p-button-outlined-2" routerLink="/mvp/update"></p-button>
                <p-button icon="pi pi-desktop" type="button" [style]="{ width: '40px', height: '40px' }" label="" class="ms-1" styleClass="p-button-outlined-3" routerLink="/mvp/details-mvp/1"></p-button>
              </div>
            </div>
            <div class="d-flex justify-content-between mb-1">
              <div class="d-flex align-items-center justify-content-center">
                <p [style]="{ margin: '0 !important'}">MVP 2 - Agregar funcionalidades de Valor</p>
              </div>
              <div>
                <p-button icon="pi pi-file-edit" type="button" [style]="{ width: '40px', height: '40px' }" label="" class="" styleClass="p-button-outlined-2" routerLink="/mvp/update"></p-button>
                <p-button icon="pi pi-desktop" type="button" [style]="{ width: '40px', height: '40px' }" label="" class="ms-1" styleClass="p-button-outlined-3" routerLink="/mvp/details-mvp/1"></p-button>
              </div>
            </div>
          </div>
          <div class="row text-end mt-5">
            <div class="col-12">
              <p-button type="button" [style]="{ width: '100%' }"
                label="Crear MVP" class="" styleClass=" p-button-help" routerLink="/mvp/create"></p-button>
            </div>
          </div>
        </p-tabPanel> -->
        <div class="row text-end mt-5">
          <div class="col-12">
            <p-button (click)="joinAProject()" *ngIf="projectAccept == false" type="button" [style]="{ width: '100%' }"
              label="Unirse al Proyecto" class="" styleClass="p-button-help"></p-button>
            <p-button class="ms-2" type="button" styleClass="p-button-outlined p-button-help" label="Finalizar Proyecto"
              [style]="{ heigth: '30px !important' }" (click)="finalizeProject()"></p-button>
          </div>
        </div>
      </p-tabView>
    </div>
  </div>
</div>