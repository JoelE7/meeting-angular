<div class="profile">
  <div class="container rounded">
    <span class="fst-italic text-secondary small"
      ><a
        href=""
        class="text-secondary"
        style="text-decoration: none"
        routerLink="/project/list-project"
        >Volver</a
      ></span
    >
    <div class="card shadow-sm" style="width: 100%; min-height: 700px">
      <div class="d-flex banner-profile">
        <img
          src="assets/img/no-user.jpg"
          alt="Foto de usuario"
          id="profile"
          class="mt-2 ms-5"
        />
        <div class="p-5">
          <h3 class="text-white">{{ searchUser.name }}</h3>
          <h6 class="fst-italic text-secondary">
            {{ searchUser.role }} Developer
          </h6>
          <span class="fst-italic text-secondary small"
            >1500pts - Semi Senior</span
          >
        </div>
      </div>
      <p-tabView class="p-3">
        <p-tabPanel header="Mi Perfil">
          <h5>Conocimientos:</h5>
          <app-technologies
            [technologies]="searchUser.preferences"
          ></app-technologies>
          <h5>Experiencia Laboral:</h5>
          <p>Mercado Libre</p>
          <p>Accenture</p>
          <p-button
            class=""
            icon="pi pi-file-edit"
            type="submit"
            [style]="{ width: '100%' }"
            label="Editar"
            styleClass="p-button-help"
          ></p-button>
        </p-tabPanel>
        <p-tabPanel header="Proyectos">
          <div class="row">
            <app-card-project
              *ngFor="let project of searchUser.projects"
              [project]="project"
            ></app-card-project>
          </div>
        </p-tabPanel>
        <p-tabPanel header="Estadísticas">
          <div class="row">
            <p-table [value]="[metrics]">
              <ng-template pTemplate="header">
                <tr>
                  <th>Contribuciones</th>
                  <th>Frecuencia de contribuciones</th>
                  <th>Comentarios en el código</th>
                  <th>Uso de herramientas de control de calidad</th>
                  <th>Uso de ramas</th>
                  <th>Tiempo de respuesta</th>
                  <th>Popularidad del proyecto</th>
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-metric>
                <tr>
                  <td
                    [ngClass]="{
                      good: metric.contributions > 100,
                      bad: metric.contributions <= 100
                    }"
                  >
                    {{ metric.contributions }}
                    <i
                      *ngIf="metric.contributions > 100"
                      class="pi pi-check"
                    ></i>
                    <i
                      *ngIf="metric.contributions <= 100"
                      class="pi pi-times"
                    ></i>
                  </td>
                  <td
                    [ngClass]="{
                      good: metric.contributionFrequency > 5,
                      bad: metric.contributionFrequency <= 5
                    }"
                  >
                    {{ metric.contributionFrequency }}
                    <i
                      *ngIf="metric.contributionFrequency > 5"
                      class="pi pi-check"
                    ></i>
                    <i
                      *ngIf="metric.contributionFrequency <= 5"
                      class="pi pi-times"
                    ></i>
                  </td>
                  <td
                    [ngClass]="{
                      good: metric.codeComments,
                      bad: !metric.codeComments
                    }"
                  >
                    {{ metric.codeComments ? "Sí" : "No" }}
                    <i *ngIf="metric.codeComments" class="pi pi-check"></i>
                    <i *ngIf="!metric.codeComments" class="pi pi-times"></i>
                  </td>
                  <td
                    [ngClass]="{
                      good: metric.qualityToolsUsed,
                      bad: !metric.qualityToolsUsed
                    }"
                  >
                    {{ metric.qualityToolsUsed ? "Sí" : "No" }}
                    <i *ngIf="metric.qualityToolsUsed" class="pi pi-check"></i>
                    <i *ngIf="!metric.qualityToolsUsed" class="pi pi-times"></i>
                  </td>
                  <td
                    [ngClass]="{
                      good: metric.branchUsage > 3,
                      bad: metric.branchUsage <= 3
                    }"
                  >
                    {{ metric.branchUsage }}
                    <i *ngIf="metric.branchUsage > 3" class="pi pi-check"></i>
                    <i *ngIf="metric.branchUsage <= 3" class="pi pi-times"></i>
                  </td>
                  <td
                    [ngClass]="{
                      good: metric.responseTime < 24,
                      bad: metric.responseTime >= 24
                    }"
                  >
                    {{ metric.responseTime }} horas
                    <i *ngIf="metric.responseTime < 24" class="pi pi-check"></i>
                    <i
                      *ngIf="metric.responseTime >= 24"
                      class="pi pi-times"
                    ></i>
                  </td>
                  <td
                    [ngClass]="{
                      good: metric.popularity > 1000,
                      bad: metric.popularity <= 1000
                    }"
                  >
                    {{ metric.popularity }}
                    <i *ngIf="metric.popularity > 1000" class="pi pi-check"></i>
                    <i
                      *ngIf="metric.popularity <= 1000"
                      class="pi pi-times"
                    ></i>
                  </td>
                </tr>
              </ng-template>
            </p-table>
          </div>
          <div class="row p-2">
            <div class="d-flex justify-content-center">
              <div class="w-75">
                <app-chart-bar></app-chart-bar>
              </div>
            </div>
            <div class="col-6">
              <app-chart-doughnut></app-chart-doughnut>
            </div>
            <div class="col-6">
              <app-chart-line></app-chart-line>
            </div>
          </div>
        </p-tabPanel>
        <p-tabPanel header="Contacto">
          <div class="row">
            <p><b>Email:</b> {{ searchUser.email }}</p>
            <p><b>País:</b> Argentina</p>
            <p><b>Provincia:</b> Buenos Aires</p>
            <p><b>Idiomas:</b> Castellano, Inglés</p>
            <div>
              <p-button
                class="mt-2 me-2"
                icon="pi pi-instagram"
                type="submit"
                [style]="{ minWidth: '40px' }"
                label=""
                styleClass="p-button-help"
              ></p-button>
              <p-button
                class="mt-2 me-2"
                icon="pi pi-twitter"
                type="submit"
                [style]="{ minWidth: '40px' }"
                label=""
                styleClass="p-button-help"
              ></p-button>
              <p-button
                class="mt-2 me-2"
                icon="pi pi-linkedin"
                type="submit"
                [style]="{ minWidth: '40px' }"
                label=""
                styleClass="p-button-help"
              ></p-button>
              <p-button
                class="mt-2 me-2"
                icon="pi pi-discord"
                type="submit"
                [style]="{ minWidth: '40px' }"
                label=""
                styleClass="p-button-help"
              ></p-button>
            </div>
          </div>
        </p-tabPanel>
        <p-tabPanel header="Reseñas">
          <div class="row reviews m-1 py-2">
            <h5>"Gran Compañero"</h5>
            <p>
              Coincidimos en un proyecto y realizamos un gran trabajo de equipo.
            </p>
            <span class="fst-italic text-secondary">- Nahuel Savedra</span>
          </div>
          <form action="" class="d-flex flex-column w-50 mt-2">
            <h5>Deja tu opinión</h5>
            <input type="text" pInputText class="" placeholder="Título" />
            <textarea
              name=""
              id=""
              cols="30"
              rows="10"
              pInputTextarea
              class="mt-2"
              placeholder="Ingresa un comentario"
            ></textarea>
            <p-button
              class="mt-2"
              icon="pi pi-thumbs-up"
              type="submit"
              [style]="{ minWidth: '14rem' }"
              label="Comentar"
              styleClass="p-button-help"
            ></p-button>
          </form>
        </p-tabPanel>
      </p-tabView>
    </div>
  </div>
</div>