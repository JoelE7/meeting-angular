<div class="profile">
  <div class="container rounded">
    <span class="fst-italic text-secondary small">
      <i class="m-1 pi pi-arrow-circle-left"></i>
      <a href="" class="text-secondary" routerLink="/project/list-project"
        >Volver</a
      ></span
    >
    <div class="card shadow-sm" style="width: 100%; min-height: 700px">
      <div class="d-flex banner-profile">
        <img src="assets/img/no-user.jpg" alt="Foto de usuario" id="profile" class="mt-2 ms-5" />
        <div class="p-5">
          <h3 class="text-white">{{ searchUser.name }}</h3>
          <h6 class="fst-italic text-secondary">
            {{ searchUser.role }} Developer
          </h6>
          <span class="fst-italic text-secondary small">1500pts - Semi Senior</span>
        </div>
      </div>
      <p-tabView class="p-3">
        <p-tabPanel header="Mi Perfil">
          <h5>Preferencias:</h5>
          <app-technologies [technologies]="searchUser.preferences"></app-technologies>
          <h5>Experiencia Laboral:</h5>
          <p>Mercado Libre</p>
          <p>Accenture</p>
          <div class="row" *ngIf="searchUser.githubUsername">
            <div class="col-12">
              <p class="link">
                <b>Usuario de github: </b>
                <a target="_blank" [href]="'https://github.com/' + searchUser.githubUsername">{{
                  searchUser.githubUsername
                  }}</a>
              </p>
            </div>
          </div>
          <p-button class="" icon="pi pi-file-edit" type="submit" [style]="{ width: '100%' }" label="Editar"
            styleClass="p-button-help"></p-button>
          <div class="" *ngIf="!searchUser.githubUsername &&
          searchUser._id == currentUser?._id
          ">
            <div class="row mt-3" *ngIf="!visibleInputGithub">
              <div class="col-12">
                <p>
                  Al vincular el proyecto a github tendrás acceso a métricas y a las actividades de los
                    integrantes.
                </p>
                <p-button type="button" iconPos="right" icon="bi bi-github" [style]="{ width: '100%' }"
                  label="Vincular con github" class="github" styleClass="p-button-secondary"
                  (click)="linkInputUserWithGithub()"></p-button>
              </div>
            </div>
            <div class="row mt-3" *ngIf="visibleInputGithub">
              <div class="col-6">
                <label for="github">Ingresa tu nombre de usuario en github</label>
                <input type="url" [(ngModel)]="userNameGithub" class="form-control" id="github-link" />
                <p-button (click)="linkUsertWithGithub()" type="button" [style]="{ width: '100%' }"
                  label="Vincular usuario" class="mt-3" styleClass="p-button-help"></p-button>
              </div>
            </div>
          </div>
        </p-tabPanel>
        <p-tabPanel header="Proyectos">
          <div class="row">
            <app-card-project *ngFor="let project of searchUser.projects" [project]="project"></app-card-project>
          </div>
        </p-tabPanel>
        <p-tabPanel header="Estadísticas" *ngIf="searchUser.githubUsername">
          <div class="card text-center" *ngIf="spinnerMetric">
            <span>
              <p-progressSpinner></p-progressSpinner>
            </span>
            <br>
            <span class="text-center">Cargando...</span>
          </div>
          <div *ngIf="!spinnerMetric">
            <div class="row">
              <div class="col-12">
                <app-chart-doughnut *ngIf="languagesMetric" [metrics]="languagesMetric"></app-chart-doughnut>
              </div>
            </div>
            <div class="row mt-3">
              <div class="col-12">
                <app-chart-bar *ngIf="commitsByUser" [metricCommit]="commitsByUser"></app-chart-bar>
              </div>
            </div>
          </div>
        </p-tabPanel>
        <p-tabPanel header="Contacto">
          <div class="row">
            <p><b>Email:</b> {{ searchUser.email }}</p>
            <p><b>País:</b> Argentina</p>
            <p><b>Provincia:</b> Buenos Aires</p>
            <p><b>Idiomas:</b> Castellano, Inglés</p>
            <div>
              <p-button class="mt-2 me-2" icon="pi pi-instagram" type="submit" [style]="{ minWidth: '40px' }" label=""
                styleClass="p-button-help"></p-button>
              <p-button class="mt-2 me-2" icon="pi pi-twitter" type="submit" [style]="{ minWidth: '40px' }" label=""
                styleClass="p-button-help"></p-button>
              <p-button class="mt-2 me-2" icon="pi pi-linkedin" type="submit" [style]="{ minWidth: '40px' }" label=""
                styleClass="p-button-help"></p-button>
              <p-button class="mt-2 me-2" icon="pi pi-discord" type="submit" [style]="{ minWidth: '40px' }" label=""
                styleClass="p-button-help"></p-button>
            </div>
             <!-- boton para contactar a la persona routerLink="/post/details-post/{{  }}" -->
          <div class="boton text-end m-2">
            <span>
            <p-button
              type="submit"
              [style]="{ width: '100%' }"
              iconPos="right"
              icon="bi bi-envelope"
              label="Contactar"
              class=""
              styleClass="p-button-help"
            >
          </p-button>
          </span>
          </div>
          <!-- boton para contactar a la persona -->

          </div>
        </p-tabPanel>
        <p-tabPanel header="Reseñas">
          <div class="row reviews m-1 py-2">
            <h5>"Gran Compañero"</h5>
            <p>
              Coincidimos en un proyecto y realizamos un gran trabajo de equipo.
            </p>
            <span class="fst-italic text-secondary">- Nahuel Savedra</span>
          </div>
          <form action="" class="d-flex flex-column w-50 mt-2">
            <h5>Deja tu opinión</h5>
            <input type="text" pInputText class="" placeholder="Título" />
            <textarea name="" id="" cols="30" rows="10" pInputTextarea class="mt-2"
              placeholder="Ingresa un comentario"></textarea>
            <p-button class="mt-2" icon="pi pi-thumbs-up" type="submit" [style]="{ minWidth: '14rem' }" label="Comentar"
              styleClass="p-button-help"></p-button>
          </form>
        </p-tabPanel>
      </p-tabView>
    </div>
  </div>
</div>